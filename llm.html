<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>累了吗 - 2秒打卡·轻松放松</title>
    <style>
        /* 全局样式：极简无多余装饰 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        body {
            background-color: #F8F9FA;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px 15px;
        }
        
        /* 顶部区域：域名+功能图标 */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }
        .header-title {
            font-size: 24px;
            color: #4ECDC4;
            font-weight: 600;
        }
        .header-domain {
            font-size: 12px;
            color: #333333;
            margin-top: 2px;
        }
        .header-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #FFFFFF;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .header-icon:hover {
            transform: scale(1.05);
        }
        .icon-calendar {
            color: #4ECDC4;
            font-size: 22px;
        }
        .icon-adfree {
            color: #9C27B0;
            font-size: 22px;
            animation: flash 2s infinite; /* 轻微闪烁吸引注意，不打扰 */
        }
        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        /* 核心打卡区域：4个状态按钮 */
        .打卡-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 30px; /* 按钮间距 */
        }
        .status-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        .status-btn:hover {
            transform: scale(1.05);
        }
        .status-btn:active {
            transform: scale(0.9);
        }
        .btn-relax {
            background-color: #06D6A0;
            color: #FFFFFF;
        }
        .btn-little-tired {
            background-color: #FFD166;
            color: #FFFFFF;
        }
        .btn-tired {
            background-color: #FF8A65;
            color: #FFFFFF;
        }
        .btn-exhausted {
            background-color: #FF6B6B;
            color: #FFFFFF;
        }
        
        /* 底部区域：打卡次数 */
        .footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            font-size: 14px;
            color: #333333;
        }
        .checkin-count {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .count-icon {
            color: #4ECDC4;
            font-size: 16px;
        }
        
        /* 紧急提醒弹窗（默认隐藏） */
        .alert-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 999;
        }
        .modal-content {
            width: 80%;
            max-width: 300px;
            background-color: #FFFFFF;
            border-radius: 16px;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        .alert-icon {
            font-size: 48px;
            color: #FF6B6B;
            animation: breath 2s infinite;
        }
        @keyframes breath {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .relax-options {
            display: flex;
            gap: 20px;
        }
        .relax-option {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #F8F9FA;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #4ECDC4;
            cursor: pointer;
        }
        .close-modal {
            margin-top: 10px;
            padding: 8px 20px;
            border: none;
            border-radius: 20px;
            background-color: #4ECDC4;
            color: #FFFFFF;
            cursor: pointer;
        }
        
        /* 响应式适配：PC端放大按钮 */
        @media (min-width: 768px) {
            .status-btn {
                width: 100px;
                height: 100px;
                font-size: 42px;
            }
            .header-icon {
                width: 50px;
                height: 50px;
            }
        }
    </style>
    <!-- 引入Font Awesome图标库（纯图标交互依赖） -->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 顶部区域 -->
    <div class="header">
        <div>
            <div class="header-title">累了吗</div>
            <div class="header-domain">leilema.com</div>
        </div>
        <div class="header-icon" onclick="window.location.href='calendar.html'">
            <i class="fa-solid fa-calendar-days icon-calendar"></i>
        </div>
        <div class="header-icon" onclick="window.location.href='adfree.html'">
            <i class="fa-solid fa-gem icon-adfree"></i>
        </div>
    </div>

    <!-- 核心打卡区域 -->
    <div class="打卡-container">
        <button class="status-btn btn-relax" onclick="checkin('relax')"><i class="fa-regular fa-face-smile"></i></button>
        <button class="status-btn btn-little-tired" onclick="checkin('little-tired')"><i class="fa-regular fa-face-meh"></i></button>
        <button class="status-btn btn-tired" onclick="checkin('tired')"><i class="fa-regular fa-face-frown"></i></button>
        <button class="status-btn btn-exhausted" onclick="checkin('exhausted')"><i class="fa-solid fa-circle-exclamation"></i></button>
    </div>

    <!-- 底部区域 -->
    <div class="footer">
        <div class="checkin-count">
            <i class="fa-solid fa-calendar-check count-icon"></i>
            <span id="count-text">今日已打卡 0 次</span>
        </div>
    </div>

    <!-- 紧急提醒弹窗 -->
    <div class="alert-modal" id="alertModal">
        <div class="modal-content">
            <div class="alert-icon"><i class="fa-solid fa-circle-exclamation"></i></div>
            <div class="relax-options">
                <div class="relax-option"><i class="fa-solid fa-eye"></i></div>
                <div class="relax-option"><i class="fa-solid fa-person-running"></i></div>
                <div class="relax-option"><i class="fa-solid fa-wind"></i></div>
            </div>
            <button class="close-modal" onclick="closeModal()">知道了</button>
        </div>
    </div>

    <script>
        // 本地存储打卡记录，无需服务器
        let checkinData = JSON.parse(localStorage.getItem('leilemaCheckin')) || {
            today: new Date().toDateString(),
            count: 0,
            recentStatus: [] // 存储最近3天状态，用于判断是否触发紧急提醒
        };

        // 初始化显示今日打卡次数
        document.getElementById('count-text').innerText = `今日已打卡 ${checkinData.count} 次`;

        // 打卡函数
        function checkin(status) {
            // 更新今日打卡次数（跨天自动重置）
            const today = new Date().toDateString();
            if (checkinData.today !== today) {
                checkinData = {
                    today: today,
                    count: 1,
                    recentStatus: [status]
                };
            } else {
                checkinData.count++;
                checkinData.recentStatus.push(status);
                // 只保留最近3天的状态（简化处理：取最后3条记录）
                if (checkinData.recentStatus.length > 3) {
                    checkinData.recentStatus.shift();
                }
            }

            // 保存到本地存储
            localStorage.setItem('leilemaCheckin', JSON.stringify(checkinData));
            // 更新显示
            document.getElementById('count-text').innerText = `今日已打卡 ${checkinData.count} 次`;

            // 检查是否触发紧急提醒
            const isExhausted = status === 'exhausted';
            const hasThreeTired = checkinData.recentStatus.filter(s => s === 'tired' || s === 'exhausted').length === 3;
            if (isExhausted || hasThreeTired) {
                openModal();
            }
        }

        // 打开紧急提醒弹窗
        function openModal() {
            document.getElementById('alertModal').style.display = 'flex';
        }

        // 关闭弹窗
        function closeModal() {
            document.getElementById('alertModal').style.display = 'none';
        }
    </script>
</body>
</html>